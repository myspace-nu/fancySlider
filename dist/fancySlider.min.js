/*!
 * fancySlider v1.0.0
 * https://github.com/myspace-nu
 *
 * Copyright 2022 Johan Johansson
 * Released under the MIT license
 */
class fancySlider{constructor(e,t){if(this.options=Object.assign({history:!0,navigation:!1,preloadImages:!0,autoplayDelay:5e3},t),"object"==typeof(e="string"==typeof e?document.querySelectorAll(e):e)&&1<e.length){let t=[];return e.forEach(e=>{t.push(new fancySlider(e))}),t}if(this.element=e[0],this.currentSlide=null,this.element.querySelectorAll(".slide").forEach((e,t)=>{e.dataset.initialClasses=e.className}),this.options.preloadImages&&(this.element.querySelectorAll("img").forEach(e=>{let t=new Image;t.src=e.src}),this.element.querySelectorAll("div").forEach(t=>{if(t.style["background-image"]){let e=new Image;e.src=t.style["background-image"].match(/url\(["']?([^"']*)["']?\)/)[1]}})),this.options.history){let e;(e=document.createElement("a")).innerHTML="&#10094;",e.addEventListener("click",e=>{this.showSlide(this.currentSlide-1),this.options.autoplay&&this.autoplay()}),e.classList.add("prev"),this.element.appendChild(e),(e=document.createElement("a")).innerHTML="&#10095;",e.addEventListener("click",e=>{this.showSlide(this.currentSlide+1),this.options.autoplay&&this.autoplay()}),e.classList.add("next"),this.element.appendChild(e)}if(this.options.navigation){let s=document.createElement("nav");this.element.querySelectorAll(".slide").forEach((e,t)=>{let i=document.createElement("a");i.addEventListener("click",e=>{this.showSlide(t+1),this.options.autoplay&&this.autoplay()}),s.appendChild(i)}),this.element.appendChild(s)}return this.options.autoplay&&this.autoplay(),this.showSlide(1),this}showSlide(e){let t=this.element.querySelectorAll(".slide"),i=e>this.currentSlide?"Right":"Left",s="Right"==i?"Left":"Right";1<=this.currentSlide&&setTimeout(e=>{t[e-1].className="fade"==t[e-1].dataset.transition?t[e-1].dataset.initialClasses+" slide-fadeOut":"rotate"==t[e-1].dataset.transition?t[e-1].dataset.initialClasses+" slide-rotateOut"+s:t[e-1].dataset.initialClasses+" slide-slideOut"+s},50,this.currentSlide),this.currentSlide=void 0===e?this.currentSlide:e,this.currentSlide=this.currentSlide>t.length?1:this.currentSlide<1?t.length:this.currentSlide,t[this.currentSlide-1].style.display="none",setTimeout(e=>{t[e-1].style.display="block",t[e-1].className="fade"==t[e-1].dataset.transition?t[e-1].dataset.initialClasses+" slide-fadeIn":"rotate"==t[e-1].dataset.transition?t[e-1].dataset.initialClasses+" slide-rotateIn"+i:t[e-1].dataset.initialClasses+" slide-slideIn"+i},50,this.currentSlide),this.element.querySelectorAll("nav a").forEach((e,t)=>{e.classList.remove("active"),t===this.currentSlide-1&&e.classList.add("active")})}autoplay(){this.timer&&clearInterval(this.timer),this.timer=setInterval(()=>{this.showSlide(this.currentSlide+1)},this.options.autoplayDelay)}}